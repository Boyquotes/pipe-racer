[gd_resource type="VisualShader" load_steps=17 format=3 uid="uid://g6mreb3vnfd7"]

[ext_resource type="Script" path="res://addons/shaderV/uv/transformUV.gd" id="1_njste"]
[ext_resource type="Script" path="res://addons/shaderV/tools/TimeScaled.gd" id="2_wlg6j"]
[ext_resource type="Gradient" uid="uid://cwk6b1gg7ac2b" path="res://PastelRainbow.tres" id="3_6cl7u"]

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_oqxvi"]
default_input_values = [1, Vector3(0, 0, 0), 2, Vector3(20, 20, 0), 3, Vector3(0.5, 0.5, 0), 4, -0.15, 5, Vector3(0.5, 0.5, 0)]
initialized = true
script = ExtResource("1_njste")

[sub_resource type="VisualShaderNodeCustom" id="VisualShaderNodeCustom_slk0s"]
default_input_values = [0, 0.01]
initialized = true
script = ExtResource("2_wlg6j")

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_j7ixp"]
input_name = "color"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_su3hu"]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_bf5d0"]
input_name = "color"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_6bskw"]
operator = 2

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_pfxhr"]
parameter_name = "TextColor"
default_value_enabled = true
default_value = Color(0.94, 0.713617, 0.141, 1)

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_1lq5k"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(1, 1, 1), 2, Vector3(0.5, 0.5, 0.5)]
op_type = 3

[sub_resource type="VisualShaderNodeBooleanParameter" id="VisualShaderNodeBooleanParameter_dv0vi"]
parameter_name = "UseColor"
default_value_enabled = true
default_value = true

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_ihtb7"]
input_name = "screen_uv"

[sub_resource type="GradientTexture1D" id="GradientTexture1D_lw5ti"]
gradient = ExtResource("3_6cl7u")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_tydel"]
texture = SubResource("GradientTexture1D_lw5ti")

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_uxo53"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(1, 1)]
op_type = 0
operator = 4

[resource]
code = "shader_type canvas_item;
render_mode blend_mix;

uniform sampler2D tex_frg_3;
uniform vec4 TextColor : source_color = vec4(0.940000, 0.713617, 0.141000, 1.000000);
uniform bool UseColor = true;


// TransformUV
vec2 _transformUV(vec2 _uv_transform, vec2 _scale_uv_, vec2 _pivot_scale_uv_, vec2 _offset_uv_, float _rotate_uv, vec2 _pivot_rotate_uv_){
	_uv_transform -= _offset_uv_; // offset
	_uv_transform = (_uv_transform - _pivot_scale_uv_) * _scale_uv_ + _pivot_scale_uv_; // zoom
	vec2 _rot_uv_angl = vec2(cos(_rotate_uv), sin(_rotate_uv));
	mat2 _rot_matrix = mat2(vec2(_rot_uv_angl.x, - _rot_uv_angl.y), vec2(_rot_uv_angl.y, _rot_uv_angl.x));
	_uv_transform = (_uv_transform - _pivot_rotate_uv_) * _rot_matrix + _pivot_rotate_uv_; // rotate
	return _uv_transform;
}

void fragment() {
// Input:12
	vec4 n_out12p0 = COLOR;


// Input:2
	vec2 n_out2p0 = SCREEN_UV;


	float n_out11p0;
// ScaledTIME:11
	float n_in11p0 = 0.01000;
	{
		n_out11p0 = n_in11p0 * TIME;
	}


	vec3 n_out10p0;
// TransformUV:10
	vec3 n_in10p2 = vec3(20.00000, 20.00000, 0.00000);
	vec3 n_in10p3 = vec3(0.50000, 0.50000, 0.00000);
	float n_in10p4 = -0.15000;
	vec3 n_in10p5 = vec3(0.50000, 0.50000, 0.00000);
	{
		n_out10p0.xy = _transformUV(vec3(n_out2p0, 0.0).xy, n_in10p2.xy, n_in10p3.xy, vec3(n_out11p0).xy, n_in10p4, n_in10p5.xy);
	}


// VectorOp:5
	vec2 n_in5p1 = vec2(1.00000, 1.00000);
	vec2 n_out5p0 = mod(vec2(n_out10p0.xy), n_in5p1);


// Texture2D:3
	vec4 n_out3p0 = texture(tex_frg_3, n_out5p0);


// VectorOp:13
	vec3 n_out13p0 = vec3(n_out12p0.xyz) * vec3(n_out3p0.xyz);


// Input:14
	vec4 n_out14p0 = COLOR;


// ColorParameter:16
	vec4 n_out16p0 = TextColor;


// VectorOp:15
	vec3 n_out15p0 = vec3(n_out14p0.xyz) * vec3(n_out16p0.xyz);


// BooleanParameter:18
	bool n_out18p0 = UseColor;


// Mix:17
	vec3 n_out17p0 = mix(n_out13p0, n_out15p0, vec3(n_out18p0 ? 1.0 : 0.0));


// Output:0
	COLOR.rgb = n_out17p0;


}
"
mode = 1
flags/light_only = false
nodes/fragment/0/position = Vector2(1840, 340)
nodes/fragment/2/node = SubResource("VisualShaderNodeInput_ihtb7")
nodes/fragment/2/position = Vector2(-60, -40)
nodes/fragment/3/node = SubResource("VisualShaderNodeTexture_tydel")
nodes/fragment/3/position = Vector2(900, 140)
nodes/fragment/5/node = SubResource("VisualShaderNodeVectorOp_uxo53")
nodes/fragment/5/position = Vector2(680, 140)
nodes/fragment/10/node = SubResource("VisualShaderNodeCustom_oqxvi")
nodes/fragment/10/position = Vector2(340, 0)
nodes/fragment/11/node = SubResource("VisualShaderNodeCustom_slk0s")
nodes/fragment/11/position = Vector2(40, 140)
nodes/fragment/12/node = SubResource("VisualShaderNodeInput_j7ixp")
nodes/fragment/12/position = Vector2(800, 0)
nodes/fragment/13/node = SubResource("VisualShaderNodeVectorOp_su3hu")
nodes/fragment/13/position = Vector2(1340, 160)
nodes/fragment/14/node = SubResource("VisualShaderNodeInput_bf5d0")
nodes/fragment/14/position = Vector2(660, 440)
nodes/fragment/15/node = SubResource("VisualShaderNodeVectorOp_6bskw")
nodes/fragment/15/position = Vector2(1194.16, 454.33)
nodes/fragment/16/node = SubResource("VisualShaderNodeColorParameter_pfxhr")
nodes/fragment/16/position = Vector2(700, 620)
nodes/fragment/17/node = SubResource("VisualShaderNodeMix_1lq5k")
nodes/fragment/17/position = Vector2(1620, 300)
nodes/fragment/18/node = SubResource("VisualShaderNodeBooleanParameter_dv0vi")
nodes/fragment/18/position = Vector2(1340, -20)
nodes/fragment/connections = PackedInt32Array(10, 0, 5, 0, 5, 0, 3, 0, 11, 0, 10, 1, 3, 0, 13, 1, 12, 0, 13, 0, 2, 0, 10, 0, 14, 0, 15, 0, 16, 0, 15, 1, 13, 0, 17, 0, 15, 0, 17, 1, 17, 0, 0, 0, 18, 0, 17, 2)
